(this["webpackJsonppersonal-area-front"]=this["webpackJsonppersonal-area-front"]||[]).push([[0],{135:function(e,n,t){e.exports={App:"App_App__1K0KO"}},136:function(e,n,t){e.exports={LoginPage:"LoginPage_LoginPage__35ruh"}},137:function(e,n,t){e.exports={base:"Container_base__1m1B8",column:"Container_column__2vrkD Container_base__1m1B8",row:"Container_row__2J_Ne Container_base__1m1B8",testFlexDirection:"Container_testFlexDirection__1SwcZ Container_base__1m1B8"}},138:function(e,n,t){e.exports={base:"CustomButton_base__2GqgA"}},151:function(e,n,t){e.exports={base:"CustomSpin_base__3pH0E"}},155:function(e,n,t){e.exports={ProfilePage:"ProfilePage_ProfilePage__1sIGQ"}},175:function(e,n,t){e.exports=t(352)},180:function(e,n,t){},352:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(5),c=t.n(o),i=(t(180),t(135)),u=t.n(i),l=(t(181),function(e){e.s;return null}),s=t(17),m=t(362),f=t(136),g=t.n(f),p=t(20),b=t(84),v=t.n(b),d=t(31),O=t(137),h=t.n(O),E=r.a.memo((function(e){var n=e.direction,t=void 0===n?"column":n,a=e.className,o=(e.renderLog,Object(d.a)(e,["direction","className","renderLog"]));return r.a.createElement("div",Object.assign({className:a||h.a[t]},o))})),j=t(48),_=t(138),L=t.n(_),k=r.a.memo((function(e){var n=e.type,t=void 0===n?"primary":n,a=e.className,o=(e.renderLog,Object(d.a)(e,["type","className","renderLog"]));return r.a.createElement(j.a,Object.assign({type:t,className:a||L.a.base},o))})),F=t(140),C=t(141),x=t(168),N=t(173),T=t(360),w=t(98),y=t.n(w),P=(r.a.memo((function(e){var n=e.onChange,t=e.onChangeText,o=e.className,c=e.renderLog,i=Object(d.a)(e,["onChange","onChangeText","className","renderLog"]),u=Object(a.useCallback)((function(e){n&&n(e),t&&t(e.currentTarget.value)}),[n,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l,{s:c||"rendering Input"}),r.a.createElement(T.a,Object.assign({onChange:u,className:o||y.a.base},i)))})),function(e){Object(N.a)(t,e);var n=Object(x.a)(t);function t(){var e;Object(F.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).onChangeCallback=function(n){e.props.onChange&&e.props.onChange(n),e.props.onChangeText&&e.props.onChangeText(n.currentTarget.value)},e}return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,n=(e.onChangeText,e.onChange,e.renderLog,e.className),t=Object(d.a)(e,["onChangeText","onChange","renderLog","className"]);return r.a.createElement(T.a,Object.assign({onChange:this.onChangeCallback,className:n||y.a.base},t))}}]),t}(r.a.PureComponent)),I=t(361),S=t(358),A=r.a.memo((function(e){var n=e.token,t=e.setToken,a=e.sendToken,o=e.loading,c=e.onFinish,i=e.onFinishFailed;return r.a.createElement(E,{className:v.a.LoginForm},r.a.createElement(l,{s:"5 ----- rendering LoginForm"}),"login",r.a.createElement(S.a,{name:"token form",initialValues:{token:n},onFinish:c,onFinishFailed:i,className:v.a.form},r.a.createElement(S.a.Item,{name:"token",rules:[{required:!0,message:"Please input your token!"}]},r.a.createElement(P,{prefix:"t: ",placeholder:"* please input token",value:n,autoFocus:!0,maxLength:36,onChangeText:t,onPressEnter:a,suffix:r.a.createElement(I.a,{onClick:a}),renderLog:"7 +-- rendering log() token input"})),r.a.createElement(S.a.Item,null,r.a.createElement(k,{htmlType:"submit",className:v.a.loginButton,loading:o,renderLog:"7 +-- rendering log() login button"},"Login"))))})),R=t(77),G=t(43),B=function(e){return Object(G.c)((function(n){return function(e,n){var t,a=[],r=Object(R.a)(n);try{var o=function(){var n=t.value;a.push(e.find((function(e){return e.name===n}))||{name:n,value:!1})};for(r.s();!(t=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}return a}(n.booleans.booleans,e)}))},D=t(24),U=t.n(D),W=t(36),q=t(38),K={booleans:[]},V=function(e){return{type:"BOOLEAN/SET_VALUES",booleans:e}},z=function(e,n){e(V([{name:n[0],value:!0},{name:n[1],value:!1,data:void 0},{name:n[2],value:!1}]))},H=function(e,n,t){e(V([{name:n[0],value:!1},{name:n[1],value:!0,data:t},{name:n[2],value:!1}]))},J=function(e,n){e(V([{name:n[0],value:!1},{name:n[1],value:!1,data:void 0},{name:n[2],value:!0}]))},Q=function(e,n){e(V([{name:n[0],value:!1},{name:n[1],value:!1,data:void 0},{name:n[2],value:!1}]))},Z=function(){var e=Object(W.a)(U.a.mark((function e(n,t,a,r){var o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",H(t,a,o),console.error(r+" Error! :",Object(q.a)({},e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t,a,r){return e.apply(this,arguments)}}(),$=t(150),M=t.n($).a.create({baseURL:"https://personal-area-it-incubator.herokuapp.com/1.0"}),X={ping:function(){var e=Object(W.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("/ping",{frontTime:(new Date).getTime()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Y={login:function(){var e=Object(W.a)(U.a.mark((function e(n){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("/auth/login",{token:n});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},ee={profile:void 0,isAuth:!1},ne=function(e){return{type:"PROFILE/SET_PROFILE",test:e}},te=t(356),ae=t(151),re=t.n(ae),oe=t(355),ce=r.a.memo((function(e){var n=e.size,t=void 0===n?"large":n,a=e.className,o=(e.renderLog,Object(d.a)(e,["size","className","renderLog"]));return r.a.createElement("div",{className:a||re.a.base},r.a.createElement(oe.a,Object.assign({size:t},o)))})),ie=["LOGIN/LOADING","LOGIN/ERROR","LOGIN/SUCCESS"],ue=r.a.memo((function(){var e=Object(s.g)().token,n=Object(a.useState)(e),t=Object(p.a)(n,2),o=t[0],c=t[1],i=function(e){var n=Object(a.useState)({name:e[0],value:!1}),t=Object(p.a)(n,2),r=t[0],o=t[1],c=Object(a.useState)({name:e[1],value:!1}),i=Object(p.a)(c,2),u=i[0],l=i[1],s=Object(a.useState)({name:e[2],value:!1}),m=Object(p.a)(s,2),f=m[0],g=m[1],b=B(e),v=Object(p.a)(b,3),d=v[0],O=v[1],h=v[2],E=[r,u,f];return d.value!==r.value&&(E[0]=d,o(d)),O.value!==u.value&&(E[1]=O,l(O)),h.value!==f.value&&(E[2]=h,g(h)),E}(ie),u=Object(p.a)(i,3),m=u[0],f=u[1],g=u[2],b=Object(a.useState)(!0),v=Object(p.a)(b,2),d=v[0],O=v[1],h=Object(a.useState)(!1),E=Object(p.a)(h,2),j=E[0],_=E[1],L=Object(a.useState)(!!e),k=Object(p.a)(L,2),F=k[0],C=k[1],x=Object(G.b)(),N=Object(a.useCallback)((function(){m.value||g.value||!o||x(function(e){return function(){var n=Object(W.a)(U.a.mark((function n(t){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return z(t,ie),n.next=3,Z(Object(W.a)(U.a.mark((function n(){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y.login(e);case 2:n.sent,J(t,ie),t(ne(!0));case 6:case"end":return n.stop()}}),n)}))),t,ie,"Login with token");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o))}),[x,m,o,g]);Object(a.useEffect)((function(){d?(Q(x,ie),N(),O(!1)):(g.value&&(te.a.success("ok!",1),setTimeout((function(){return _(!0)}),1500)),f.value&&(F?C(!1):(te.a.error(f.data.toString()),Q(x,ie))))}),[x,d,O,g,f,e,N,F]);var T=Object(a.useCallback)((function(e){N()}),[N]),w=Object(a.useCallback)((function(e){console.error("Failed:",e),te.a.error(e.errorFields[0].errors)}),[]);return j?r.a.createElement(s.a,{to:de.PROFILE}):F?r.a.createElement(ce,{renderLog:"4 ----- rendering LoginFormContainer Spin"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(l,{s:"4 ---- rendering LoginFormContainer"}),r.a.createElement(A,{loading:m.value,token:o,setToken:c,sendToken:N,onFinish:T,onFinishFailed:w}))})),le=r.a.memo((function(){return r.a.createElement("div",{className:g.a.LoginPage},r.a.createElement(ue,null))})),se=t(155),me=t.n(se),fe=r.a.memo((function(){return r.a.createElement("div",{className:me.a.ProfilePage},"profile")})),ge=r.a.memo((function(e){var n=e.renderLog,t=Object(d.a)(e,["renderLog"]),o=Object(G.c)((function(e){return e.profile})).isAuth,c=Object(a.useState)(!0),i=Object(p.a)(c,2),u=i[0],m=i[1],f=Object(a.useState)(!1),g=Object(p.a)(f,2),b=g[0],v=g[1],O=Object(a.useState)(!o),h=Object(p.a)(O,2),E=h[0];h[1];return Object(a.useEffect)((function(){u&&(o||(te.a.error("Not logged in!"),setTimeout((function(){return v(!0)}),1500)),m(!1))}),[u,m,o,v]),b?r.a.createElement(s.a,{to:de.LOGIN}):E?r.a.createElement(ce,{renderLog:(n||"rendering AuthRedirectPage")+" CustomSpin"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(l,{s:n||"rendering AuthRedirectPage"}),r.a.createElement("div",t))})),pe=t(46),be=t(357),ve=r.a.memo((function(e){e.routes.map((function(e){var n=function(e){return e?"object"===typeof e&&e.length?e[0]:"string"===typeof e?e:"/not-correct-path":"/error404"}(e.path);return r.a.createElement(pe.b,{key:e._id,to:n},n)}));return null})),de={DEFAULT:"/",LOGIN:"/login",LOGIN_WITH_TOKEN:"/login/:token",PROFILE:"/profile"},Oe=[{_id:Object(m.a)(),path:de.DEFAULT,exact:!0,component:r.a.createElement(s.a,{to:de.LOGIN})},{_id:Object(m.a)(),path:[de.LOGIN,de.LOGIN_WITH_TOKEN],exact:!0,component:r.a.createElement(le,null)},{_id:Object(m.a)(),path:de.PROFILE,exact:!0,component:r.a.createElement(ge,{renderLog:"3 --- rendering AuthRedirectProfilePage"},r.a.createElement(fe,null))},{_id:Object(m.a)(),component:r.a.createElement("div",null,"404")}],he=Oe.map((function(e){return r.a.createElement(s.b,{key:e._id,path:e.path,exact:e.exact,render:function(){return e.component}})})),Ee=r.a.memo((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{routes:Oe}),r.a.createElement(s.d,null,he))})),je=t(156),_e=t(57),Le=t(170),ke=function(e,n){return e.map((function(e){var t=n.find((function(n){return n.name===e.name}));return t&&t.value!==e.value?t:e}))},Fe=function(e,n){var t,a=Object(Le.a)(e),r=Object(R.a)(n);try{var o=function(){var e=t.value;e.value&&!a.find((function(n){return n.name===e.name}))&&a.push(e)};for(r.s();!(t=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}return a},Ce=Object(_e.c)({booleans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"BOOLEAN/SET_VALUES":var t=ke(e.booleans,n.booleans),a=Fe(t,n.booleans);return Object(q.a)({},e,{booleans:a});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PROFILE/SET_PROFILE":return Object(q.a)({},e,{isAuth:n.test});default:return e}}}),xe=Object(_e.d)(Ce,Object(_e.a)(je.a)),Ne=xe;var Te=t(359),we=r.a.memo((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{title:r.a.createElement(r.a.Fragment,null,"Personal Area"),subTitle:r.a.createElement("a",{href:"https://it-incubator.by/",rel:"noopener noreferrer",target:"_blank"},"it-incubator")}),r.a.createElement(be.a,null))})),ye=r.a.memo((function(){return r.a.createElement("div",{className:u.a.App},r.a.createElement(G.a,{store:Ne},r.a.createElement(pe.a,null,r.a.createElement(we,null),r.a.createElement(Ee,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=t(363),Ie=r.a.memo((function(e){var n=e.show,t=Object(a.useState)(!0),o=Object(p.a)(t,2),c=o[0],i=o[1];return Object(a.useEffect)((function(){c&&(X.ping().then((function(e){console.warn("ping: ",e.ping);var t=(new Date).getTime()-e.backTime;n&&Pe.a.info({message:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"ping: front to back = ",e.ping,","),r.a.createElement("div",null,"back to front = ",t)),placement:"bottomLeft"}),X.ping().then((function(e){console.warn("ping: ",e.ping);var t=(new Date).getTime()-e.backTime;n&&Pe.a.info({message:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"ping: front to back = ",e.ping,","),r.a.createElement("div",null,"back to front = ",t)),placement:"bottomLeft"})})).catch((function(e){return console.error("ping request error object: ",Object(q.a)({},e))}))})).catch((function(e){return console.error("ping request error object: ",Object(q.a)({},e))})),i(!1))}),[c,i,n]),null}));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{show:!0}),r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,n,t){e.exports={LoginForm:"LoginForm_LoginForm__1je6Q",form:"LoginForm_form__G6x_a",loginButton:"LoginForm_loginButton__1yWdR"}},98:function(e,n,t){e.exports={base:"CustomInput_base__23ZeV"}}},[[175,1,2]]]);
//# sourceMappingURL=main.647eee5a.chunk.js.map